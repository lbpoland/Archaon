<html><head><title>File parcel_inherit.c
</title></head><body bgcolor="#ffffff" TEXT="#000030" LINK="#4a529c" VLINK="#b57339">[ <a href="index.html">Package Index</a></code> | <a href="index_std.html">Mudlib Index</a></code> | <a href="index_eff.html">Effect Index</a></code> ]<br><h2>File /std/room/parcel_inherit.c</h2>

Post Office Delivery Inheritable<p>Written by Terano<p>Started 28 December, 1998
<hr><h2>Inherits</h2>
This class inherits the following classes <a href="std.room.basic_room.c.html">/std/room/basic_room.c</a><hr><h2>Includes</h2>
This class includes the following files <a href="include.player_handler.h.html">/include/player_handler.h</a>, <a href="include.player.h.html">/include/player.h</a>, <a href="include.shops.bank.h.html">/include/shops/bank.h</a>, <a href="include.mail.h.html">/include/mail.h</a>, <a href="include.playtesters.h.html">/include/playtesters.h</a> and <a href="include.money.h.html">/include/money.h</a><hr><h2>Method index</h2>
<dl><dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#deposit_parcel"><b>deposit_parcel</b></a>(object *, string, int)<dd>
This method is used by outside objects to send parcels (if they should
need to do so).
<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#do_collect"><b>do_collect</b></a>()<dd>
Collects a parcel if any are here
Mask to do interesting things
<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#do_deposit"><b>do_deposit</b></a>(object *, string, int)<dd>
Do deposit function, mask to do interesting things
<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#make_shelf"><b>make_shelf</b></a>(string, string)<dd>
Makes a shelf and moves it to the room, if there is a shelf, items
collected will be moved to it, otherwise they just get moved to the floor
<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#query_shelf"><b>query_shelf</b></a>()<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#set_cost"><b>set_cost</b></a>(int)<dd>
Sets the cost to send a parcel, in default money units
400 = $1AM
<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#set_currency"><b>set_currency</b></a>(string)<dd>
What currency to use
<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#set_location"><b>set_location</b></a>(string)<dd>
Sets the location of the parcel office
This is a directory in /save/parcels
ie /save/parcels/teranotest/
<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#set_shelf"><b>set_shelf</b></a>(object)</dl><hr><h2>Public Functions</h2>
These are functions that everyone can access.<p><dl>
.<dt><a name="deposit_parcel">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>deposit_parcel</b></a><pre>
int deposit_parcel(object * obs,
string name,
int show_sender)
</pre><dd>
This method is used by outside objects to send parcels (if they should
need to do so).<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>obs - Objects to deposit (required)
<dd>name - Name to go to (required)
<dd>show_sender - non-zero to show name of sender in automail (optional)

</dl>

<dt><a name="do_collect">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>do_collect</b></a><pre>
int do_collect()
</pre><dd>
Collects a parcel if any are here
Mask to do interesting things<p>
<dd><dl>
<dt><b>Returns:</b>
<dd>1 if there are parcels, and 0 if there arent

</dl>

<dt><a name="do_deposit">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>do_deposit</b></a><pre>
varargs int do_deposit(object * obs,
string name,
int show_sender)
</pre><dd>
Do deposit function, mask to do interesting things<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>*obs - Objects to deposit (required)
<dd>name - Name to go to (required)
<dd>show_sender - non-zero to show name of sender in automail (optional)
<dt><b>Returns:</b>
<dd>-5 if user is not allowed to recieve parcels, -4 if sender is not
allowed to send parcels, -3 if sender and user are the same person,
-2 if no such user, -1 if not enough money, 0 if missing arguments or
failed for unknown reason and 1 if successful

</dl>

<dt><a name="make_shelf">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>make_shelf</b></a><pre>
void make_shelf(string short,
string long)
</pre><dd>
Makes a shelf and moves it to the room, if there is a shelf, items
collected will be moved to it, otherwise they just get moved to the floor<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>short - The short desc of the shelf
<dd>long - The long desc of the shelf

</dl>

<dt><a name="query_shelf">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>query_shelf</b></a><pre>
object query_shelf()
</pre>
<dt><a name="set_cost">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>set_cost</b></a><pre>
void set_cost(int _cost)
</pre><dd>
Sets the cost to send a parcel, in default money units
400 = $1AM<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>_cost - The cost

</dl>

<dt><a name="set_currency">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>set_currency</b></a><pre>
void set_currency(string temp)
</pre><dd>
What currency to use<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>temp - The type of currency (ie "Ankh-Morpork")

</dl>

<dt><a name="set_location">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>set_location</b></a><pre>
void set_location(string _loc)
</pre><dd>
Sets the location of the parcel office
This is a directory in /save/parcels
ie /save/parcels/teranotest/<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>_loc - location of the post office

</dl>

<dt><a name="set_shelf">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>set_shelf</b></a><pre>
void set_shelf(object ob)
</pre>
</dl>
<hr>
<center><font size="-1"><a href="http://discworld.imaginary.com/login.html">Discworld MUD</a>'s distribution world wide web pages.<br>brought to you by<br><strong>Cut Me Own Throat Dibbler's <a href="http://discworld.imaginary.com/sausages.html">Sensational Sausages</a>;&nbsp;buy one while they are hot.</strong><br>File last modified: Mon, 26 Mar 2018 18:31:09 GMT<br>
<hr>Lost?  Try Discworld's <a href="http://discworld.imaginary.com/">home page</a>.</center></body></html>