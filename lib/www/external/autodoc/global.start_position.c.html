<html><head><title>File start_position.c
</title></head><body bgcolor="#ffffff" TEXT="#000030" LINK="#4a529c" VLINK="#b57339">[ <a href="index.html">Package Index</a></code> | <a href="index_std.html">Mudlib Index</a></code> | <a href="index_eff.html">Effect Index</a></code> ]<br><h2>File /global/start_position.c</h2>
This file contains all the start position related code.  It sets up
and controls the start location of the player.  This was split off from
the main player code by Pinkfish in April 1998.<p><b>See also:</b><br><a href="global.player.c.html">/global/player.c</a><p>Written by Pinkfish
<hr><h2>Inherits</h2>
This class inherits the following classes <a href="std.basic.virtual_quit_control.c.html">/std/basic/virtual_quit_control.c</a><hr><h2>Includes</h2>
This class includes the following files <a href="include.config.h.html">/include/config.h</a> and <a href="include.playerinfo.h.html">/include/playerinfo.h</a><hr><h2>Method index</h2>
<dl><dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#add_start"><b>add_start</b></a>(string, string)<dd>
This method will add a new start location to the player.
<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#check_last_pos"><b>check_last_pos</b></a>()<dd>
This method figured out what the last saved position was and sets it
on the player.
<dt><img src="images/magenta-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#inform_entered_game"><b>inform_entered_game</b></a>()<dd>
This method handles informing people that the player has entered the
game.
<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#inform_reconnect_game"><b>inform_reconnect_game</b></a>()<dd>
THis method is called to inform people that someone has just reconnected.
<dt><img src="images/magenta-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#move_to_start_pos"><b>move_to_start_pos</b></a>()<dd>
This method moves the player to the last saved position.
<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#query_last_pos"><b>query_last_pos</b></a>()<dd>
This method returns the last saved position of the player.
<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#query_saved_co_ords"><b>query_saved_co_ords</b></a>()<dd>
This method returns the co-ordinates of the room in which the player
last saved.
<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#query_start_pos"><b>query_start_pos</b></a>()<dd>
This method returns the starting location of the player.
<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#query_starts"><b>query_starts</b></a>()<dd>
This method returns the current array of possible start positions on
the player.
<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#remove_start"><b>remove_start</b></a>(string)<dd>
This method will remove a start location from the player.
<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#reset_starts"><b>reset_starts</b></a>()<dd>
This method resets the start locations back to an empty array.
<dt><img src="images/magenta-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#set_last_pos"><b>set_last_pos</b></a>(string)<dd>
This method sets the current start location.
<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#set_start_location"><b>set_start_location</b></a>(string)<dd>
This method sets the start location of the player.
</dl><hr><h2>Public Functions</h2>
These are functions that everyone can access.<p><dl>
.<dt><a name="add_start">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>add_start</b></a><pre>
void add_start(string start_file,
string start_desc)
</pre><dd>
This method will add a new start location to the player.  The
description will be used in the starts command.<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>start_file - the file name of the start location
<dd>start_desc - the description of the start location
<dt><b>See also:</b>
<dd><a href="#query_start_pos">query_start_pos()</a>, <a href="#reset_starts">reset_starts() </a>, <a href="#remove_start">remove_start()</a>, <a href="#query_starts">query_starts()</a> and <a href="#set_start_location">set_start_location()</a><dt><b>Example:</b>
<dd><pre>// NB: This should be done with a define :)
player->add_start("/d/am/am/mendeddrum", "the mended drum");
</pre></dl>

<dt><a name="check_last_pos">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>check_last_pos</b></a><pre>
void check_last_pos()
</pre><dd>
This method figured out what the last saved position was and sets it
on the player.  This basicly sets the last saved postion.<p>
<dd><dl>
<dt><b>See also:</b>
<dd><a href="#query_last_pos">query_last_pos()
</a></dl>

<dt><a name="inform_reconnect_game">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>inform_reconnect_game</b></a><pre>
void inform_reconnect_game()
</pre><dd>
THis method is called to inform people that someone has just reconnected.
<p>

<dt><a name="query_last_pos">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>query_last_pos</b></a><pre>
string query_last_pos()
</pre><dd>
This method returns the last saved position of the player.<p>
<dd><dl>
<dt><b>Returns:</b>
<dd>the last saved position

</dl>

<dt><a name="query_saved_co_ords">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>query_saved_co_ords</b></a><pre>
int * query_saved_co_ords()
</pre><dd>
This method returns the co-ordinates of the room in which the player
last saved.<p>
<dd><dl>
<dt><b>Returns:</b>
<dd>the last saved co-ordinates

<dt><b>See also:</b>
<dd><a href="#check_last_pos">check_last_pos()</a>, <a href="#move_to_start">move_to_start()</a> and <a href="#query_start_pos">query_start_pos()</a></dl>

<dt><a name="query_start_pos">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>query_start_pos</b></a><pre>
string query_start_pos()
</pre><dd>
This method returns the starting location of the player.  This the
location they will start at if the saved position does not work
for some reason.<p>
<dd><dl>
<dt><b>Returns:</b>
<dd>the start position to use
<dt><b>See also:</b>
<dd><a href="#query_starts">query_starts()</a>, <a href="#add_start">add_start()</a>, <a href="#remove_start">remove_start()</a>, <a href="#reset_starts">reset_starts()</a> and <a href="#set_start_location">set_start_location()
</a></dl>

<dt><a name="query_starts">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>query_starts</b></a><pre>
string * query_starts()
</pre><dd>
This method returns the current array of possible start positions on
the player.<p>
<dd><dl>
<dt><b>Returns:</b>
<dd>the array of possible start locations
<dt><b>See also:</b>
<dd><a href="#query_start_pos">query_start_pos()</a>, <a href="#add_start">add_start()</a>, <a href="#remove_start">remove_start()</a>, <a href="#reset_starts">reset_starts()</a> and <a href="#set_start_location">set_start_location()
</a></dl>

<dt><a name="remove_start">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>remove_start</b></a><pre>
void remove_start(string start_file)
</pre><dd>
This method will remove a start location from the player.<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>start_file - the file name of the location to remove
<dt><b>See also:</b>
<dd><a href="#query_start_pos">query_start_pos()</a>, <a href="#reset_starts">reset_starts()</a>, <a href="#add_start">add_start()</a>, <a href="#query_starts">query_starts()</a> and <a href="#set_start_location">set_start_location()</a><dt><b>Example:</b>
<dd><pre>// NB: This should be done with a define :)
player->remove_start("/d/am/am/mendeddrum");
</pre></dl>

<dt><a name="reset_starts">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>reset_starts</b></a><pre>
void reset_starts()
</pre><dd>
This method resets the start locations back to an empty array.<p>
<dd><dl>
<dt><b>See also:</b>
<dd><a href="#query_start_pos">query_start_pos()</a>, <a href="#add_start">add_start()</a>, <a href="#remove_start">remove_start()</a>, <a href="#query_starts">query_starts()</a> and <a href="#set_start_location">set_start_location()
</a></dl>

<dt><a name="set_start_location">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>set_start_location</b></a><pre>
void set_start_location(string start_file)
</pre><dd>
This method sets the start location of the player.<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>start_file - the start location to set
<dt><b>See also:</b>
<dd><a href="#query_start_pos">query_start_pos()</a>, <a href="#reset_starts">reset_starts()</a>, <a href="#remove_start">remove_start()</a>, <a href="#query_starts">query_starts()</a> and <a href="#add_start">add_start()</a><dt><b>Example:</b>
<dd><pre>// NB: This should be done with a define :)
player->set_start_location("/d/am/am/mendeddrum");
</pre></dl>

</dl>
<hr><h2>Protected Functions</h2>
These are functions that only objects inheriting the class can access.<p>
<dt><a name="inform_entered_game">
<img src="images/magenta-ball.gif" width=12 height=12 alt=" * "><b>inform_entered_game</b></a><pre>
void inform_entered_game()
</pre><dd>
This method handles informing people that the player has entered the
game.<p>
<dd><dl>
<dt><b>See also:</b>
<dd><a href="#move_to_start_pos">move_to_start_pos()
</a></dl>

<dt><a name="move_to_start_pos">
<img src="images/magenta-ball.gif" width=12 height=12 alt=" * "><b>move_to_start_pos</b></a><pre>
void move_to_start_pos()
</pre><dd>
This method moves the player to the last saved position.  This should
only be called in the startup sequence.  If the last location could
not be loaded, the the start position will be used.<p>
<dd><dl>
<dt><b>See also:</b>
<dd><a href="#query_last_pos">query_last_pos()</a> and <a href="#quert_start_pos">quert_start_pos()
</a></dl>

<dt><a name="set_last_pos">
<img src="images/magenta-ball.gif" width=12 height=12 alt=" * "><b>set_last_pos</b></a><pre>
void set_last_pos(string pos)
</pre><dd>
This method sets the current start location.<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>last_pos - the start location

</dl>


<hr>
<center><font size="-1"><a href="http://discworld.imaginary.com/login.html">Discworld MUD</a>'s distribution world wide web pages.<br>brought to you by<br><strong>Cut Me Own Throat Dibbler's <a href="http://discworld.imaginary.com/sausages.html">Sensational Sausages</a>;&nbsp;buy one while they are hot.</strong><br>File last modified: Thu, 29 Mar 2018 03:09:50 GMT<br>
<hr>Lost?  Try Discworld's <a href="http://discworld.imaginary.com/">home page</a>.</center></body></html>