<html><head><title>File options_handler.c
</title></head><body bgcolor="#ffffff" TEXT="#000030" LINK="#4a529c" VLINK="#b57339">[ <a href="index.html">Package Index</a></code> | <a href="index_std.html">Mudlib Index</a></code> | <a href="index_eff.html">Effect Index</a></code> ]<br><h2>File /obj/handlers/options_handler.c</h2>
This handler deals will the options a player has.  It will return the
list of options, set options and control how the options can be
set.<p>Written by Pinkfish<p>Started Thu Jun  8 17:13:47 PDT 2000
<hr><h2>Includes</h2>
This class includes the following files <a href="include.error_handler.h.html">/include/error_handler.h</a>, <a href="include.ls.h.html">/include/ls.h</a>, <a href="include.cmds.options.h.html">/include/cmds/options.h</a>, <a href="include.cmds.teach.h.html">/include/cmds/teach.h</a>, <a href="include.terrain_map.h.html">/include/terrain_map.h</a>, <a href="include.creator.h.html">/include/creator.h</a>, <a href="include.obj_parser.h.html">/include/obj_parser.h</a>, <a href="include.player.h.html">/include/player.h</a>, <a href="include.am_time.h.html">/include/am_time.h</a>, <a href="include.colour.h.html">/include/colour.h</a>, <a href="include.clubs.h.html">/include/clubs.h</a> and <a href="include.playtesters.h.html">/include/playtesters.h</a><hr><h2>Class Index</h2>
<dl><dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#class_option"><b>option</b></a>
</dl><hr><h2>Method index</h2>
<dl><dt><img src="images/magenta-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#add_option"><b>add_option</b></a>(string, mixed, int, function, function, string)<dd>
This method adds in an option for the player to be able to set.
<dt><img src="images/magenta-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#add_option_to_mapping"><b>add_option_to_mapping</b></a>(mapping, string, mixed, int, function, function, string)<dd>
This method adds in an option for the player to be able to set to
a mapping.
<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#convert_birthday"><b>convert_birthday</b></a>(string)<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#is_option"><b>is_option</b></a>(object, string)<dd>
This method checks to see if the specified option path exists.
<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#is_option_group"><b>is_option_group</b></a>(object, string)<dd>
This method checks to see if the specified option group path exists.
<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#query_option_help"><b>query_option_help</b></a>(object, string)<dd>
This method returns the help string of the specified option.
<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#query_option_value"><b>query_option_value</b></a>(object, string)<dd>
This method returns the value of the specified option.
<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#query_option_values"><b>query_option_values</b></a>(object, string)<dd>
This method returns the different values this option can be
set to.
<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#query_sub_options"><b>query_sub_options</b></a>(object, string)<dd>
This method returns all the sub options and option groups at this
level.
<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#set_option_value"><b>set_option_value</b></a>(object, string, string)<dd>
This method sets an option value on the player.
</dl><hr><h2>Public Functions</h2>
These are functions that everyone can access.<p><dl>
.<dt><a name="convert_birthday">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>convert_birthday</b></a><pre>
string convert_birthday(string str)
</pre>
<dt><a name="is_option">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>is_option</b></a><pre>
int is_option(object player,
string name)
</pre><dd>
This method checks to see if the specified option path exists.  This
will only return true if it is an actual option, not an option group.<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>player - the player this is relative to
<dd>name - the option path to check
<dt><b>Returns:</b>
<dd>1 if it is an option, 0 if not

</dl>

<dt><a name="is_option_group">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>is_option_group</b></a><pre>
int is_option_group(object player,
string name)
</pre><dd>
This method checks to see if the specified option group path exists.  This
will only return true if it is an option group, not an actual option.<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>player - the player this is relative to
<dd>name - the option path to check
<dt><b>Returns:</b>
<dd>1 if it is an option group, 0 if not

</dl>

<dt><a name="query_option_help">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>query_option_help</b></a><pre>
string query_option_help(object player,
string path)
</pre><dd>
This method returns the help string of the specified option.<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>player - the player to find the value on
<dd>path - the path to the option

</dl>

<dt><a name="query_option_value">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>query_option_value</b></a><pre>
string query_option_value(object player,
string path)
</pre><dd>
This method returns the value of the specified option.<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>player - the player to find the value on
<dd>path - the path to the option

</dl>

<dt><a name="query_option_values">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>query_option_values</b></a><pre>
string * query_option_values(object player,
string name)
</pre><dd>
This method returns the different values this option can be
set to.<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>player - the player this is relative to
<dd>name - the name of the option
<dt><b>Returns:</b>
<dd>the allowed parameters

</dl>

<dt><a name="query_sub_options">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>query_sub_options</b></a><pre>
string * query_sub_options(object player,
string name)
</pre><dd>
This method returns all the sub options and option groups at this
level.<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>player - the player this is relative to
<dd>name - the path to return the suboptions of
<dt><b>Returns:</b>
<dd>the sub options of the path

</dl>

<dt><a name="set_option_value">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>set_option_value</b></a><pre>
int set_option_value(object player,
string path,
string value)
</pre><dd>
This method sets an option value on the player.<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>player - the player to find the value on
<dd>path - the path to the option
<dd>value - the value directly from the command line

</dl>

</dl>
<hr><h2>Protected Functions</h2>
These are functions that only objects inheriting the class can access.<p>
<dt><a name="add_option">
<img src="images/magenta-ball.gif" width=12 height=12 alt=" * "><b>add_option</b></a><pre>
int add_option(string name,
mixed type,
int cre_only,
function set_function,
function query_function,
string help)
</pre><dd>
This method adds in an option for the player to be able to set.
The set function will be called with two parameters, the value to
set it to and the variable being set.  The set function must return
1 if the value was successfuly set.
<p>
int set_function(variable, value);<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>path - the path to the option eg: ({ "output", "look" })
<dd>type - the type of the option eg: OPTIONS_TYPE_BRIEF
<dd>set_function - the function to call to set the option
<dd>query_function - the function to call to query the option
<dt><b>Returns:</b>
<dd>1 if successful, 0 if not

</dl>

<dt><a name="add_option_to_mapping">
<img src="images/magenta-ball.gif" width=12 height=12 alt=" * "><b>add_option_to_mapping</b></a><pre>
void add_option_to_mapping(mapping array,
string name,
mixed type,
int cre_only,
function set_function,
function query_function,
string help)
</pre><dd>
This method adds in an option for the player to be able to set to
a mapping.  This method should be used by all the dynamic tree
methods to create leaves.<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>array - the mapping to add the elements to
<dd>path - the path to the option eg: ({ "output", "look" })
<dd>type - the type of the option eg: OPTIONS_TYPE_BRIEF
<dd>set_function - the function to call to set the option
<dd>query_function - the function to call to query the option
<dt><b>Returns:</b>
<dd>1 if successful, 0 if not

</dl>


<hr><h2>Classes</h2>
These are nice data types for dealing with...  Data!<p>
<dl>
<dt><a name="class_option">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>option</b></a><pre>
class option {
mixed type;
int restriction;
function set;
function query;
mapping suboptions;
string help;
}

</pre>
</dl>
<hr>
<center><font size="-1"><a href="http://discworld.imaginary.com/login.html">Discworld MUD</a>'s distribution world wide web pages.<br>brought to you by<br><strong>Cut Me Own Throat Dibbler's <a href="http://discworld.imaginary.com/sausages.html">Sensational Sausages</a>;&nbsp;buy one while they are hot.</strong><br>File last modified: Tue, 27 Nov 2018 22:05:15 GMT<br>
<hr>Lost?  Try Discworld's <a href="http://discworld.imaginary.com/">home page</a>.</center></body></html>