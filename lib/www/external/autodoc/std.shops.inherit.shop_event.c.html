<html><head><title>File shop_event.c
</title></head><body bgcolor="#ffffff" TEXT="#000030" LINK="#4a529c" VLINK="#b57339">[ <a href="index.html">Package Index</a></code> | <a href="index_std.html">Mudlib Index</a></code> | <a href="index_eff.html">Effect Index</a></code> ]<br><h2>File /std/shops/inherit/shop_event.c</h2>
This inheritable allows broadcasting of shop events to whoever
wants to hear them.  The most useful case of this is broadcasting
to yourself so you can tell when shops do specific things.  The
shop event will always be called 'event_shop' + type.  For example
'event_shop_failed_buy'.  Each specific
shop will setup different parameters to the shop event, except
the first three parameters will always be the event name,
shop object and the third is the player.<p>Written by Pinkfish<p>Started Mon Oct 23 12:23:41 PDT 2000
<hr><h2>Method index</h2>
<dl><dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#add_shop_observer"><b>add_shop_observer</b></a>(object)<dd>
This method adds an object into the list to receive shop events.
<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#broadcast_shop_event"><b>broadcast_shop_event</b></a>(string, object, mixed args)<dd>
This method sends the event to all the people who have been set to
receive shop events.
<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#remove_shop_observer"><b>remove_shop_observer</b></a>(object)<dd>
This method removes an object from the list to recieve shop events.
</dl><hr><h2>Public Functions</h2>
These are functions that everyone can access.<p><dl>
.<dt><a name="add_shop_observer">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>add_shop_observer</b></a><pre>
void add_shop_observer(object observer)
</pre><dd>
This method adds an object into the list to receive shop events.<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>observer - the observer to add

</dl>

<dt><a name="broadcast_shop_event">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>broadcast_shop_event</b></a><pre>
int broadcast_shop_event(string type,
object player,
mixed args ...)
</pre><dd>
This method sends the event to all the people who have been set to
receive shop events.  The shop event function is called
event_shop(object shop, ...).
<p>
If this method returns 1 then the default messages are supressed.<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>type - the type of the event
<dd>player - the player in the event
<dd>args - the arguements in the event
<dt><b>Returns:</b>
<dd>1 to supress the default messages

</dl>

<dt><a name="remove_shop_observer">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>remove_shop_observer</b></a><pre>
void remove_shop_observer(object observer)
</pre><dd>
This method removes an object from the list to recieve shop events.<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>observer - the observer to remove

</dl>

</dl>
<hr>
<center><font size="-1"><a href="http://discworld.imaginary.com/login.html">Discworld MUD</a>'s distribution world wide web pages.<br>brought to you by<br><strong>Cut Me Own Throat Dibbler's <a href="http://discworld.imaginary.com/sausages.html">Sensational Sausages</a>;&nbsp;buy one while they are hot.</strong><br>File last modified: Tue, 27 Mar 2018 04:30:29 GMT<br>
<hr>Lost?  Try Discworld's <a href="http://discworld.imaginary.com/">home page</a>.</center></body></html>