<html><head><title>File club_control_room.c
</title></head><body bgcolor="#ffffff" TEXT="#000030" LINK="#4a529c" VLINK="#b57339">[ <a href="index.html">Package Index</a></code> | <a href="index_std.html">Mudlib Index</a></code> | <a href="index_eff.html">Effect Index</a></code> ]<br><h2>File /std/room/inherit/club_control_room.c</h2>
This room allows people to create clubs and do fluffy club stuff if
they need to.<p>Written by Pinkfish<p>Started Sun Oct  4 02:24:46 EDT 1998
<hr><h2>Inherits</h2>
This class inherits the following classes <a href="std.room.inherit.club_discuss.c.html">/std/room/inherit/club_discuss.c</a> and <a href="std.basic.club_listing.c.html">/std/basic/club_listing.c</a><hr><h2>Includes</h2>
This class includes the following files <a href="include.player_handler.h.html">/include/player_handler.h</a>, <a href="include.move_failures.h.html">/include/move_failures.h</a>, <a href="include.shops.bank.h.html">/include/shops/bank.h</a>, <a href="include.am_time.h.html">/include/am_time.h</a>, <a href="include.clubs.h.html">/include/clubs.h</a> and <a href="include.money.h.html">/include/money.h</a><hr><h2>Method index</h2>
<dl><dt><img src="images/magenta-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#confirm_create"><b>confirm_create</b></a>(string, string)<dd>
This method will confirm the creation of a club.
<dt><img src="images/magenta-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#confirm_create_family"><b>confirm_create_family</b></a>(string, string)<dd>
This method will confirm the creation of a family.
<dt><img src="images/magenta-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#disband_confirm"><b>disband_confirm</b></a>(string, string)<dd>
This method is called to confirm the disbanding of the club.
<dt><img src="images/magenta-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#do_announcement"><b>do_announcement</b></a>(string)<dd>
This method sets an announcement for the club.
<dt><img src="images/magenta-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#do_balance"><b>do_balance</b></a>(string)<dd>
This method prints the balance of this club.
<dt><img src="images/magenta-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#do_change"><b>do_change</b></a>(string, string)<dd>
This allows the club to change into a new type.
<dt><img src="images/magenta-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#do_change_option"><b>do_change_option</b></a>(string, string)<dd>
This allows the club to change its options.
<dt><img src="images/magenta-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#do_club_list_member"><b>do_club_list_member</b></a>(string)<dd>
This method does a listing of all the clubs that a certain person is
in.
<dt><img src="images/magenta-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#do_create"><b>do_create</b></a>(string)<dd>
This method is called to try and create a club of the specified name.
<dt><img src="images/magenta-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#do_create_family"><b>do_create_family</b></a>(string)<dd>
This method is called to try and create a family of the specified name.
<dt><img src="images/magenta-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#do_deposit"><b>do_deposit</b></a>(string, string, string, string)<dd>
This method allows to you deposit money into the club.
<dt><img src="images/magenta-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#do_describe"><b>do_describe</b></a>(string)<dd>
This method sets the club description.
<dt><img src="images/magenta-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#do_disband"><b>do_disband</b></a>(string)<dd>
This method will forcibly disband the club.
<dt><img src="images/magenta-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#do_financials"><b>do_financials</b></a>(string, string)<dd>
This method prints out financial reports for the club.
<dt><img src="images/magenta-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#do_force_election"><b>do_force_election</b></a>(string)<dt><img src="images/magenta-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#do_insignia"><b>do_insignia</b></a>(string, int)<dd>
This method will create a bunch of insignia for the club.
<dt><img src="images/magenta-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#do_nominate"><b>do_nominate</b></a>(string, string, string)<dd>
This method nominates a person into a position in a club.
<dt><img src="images/magenta-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#do_recruiter_add"><b>do_recruiter_add</b></a>(string, string)<dd>
This method attempts to add a recruiter to the club.
<dt><img src="images/magenta-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#do_recruiter_remove"><b>do_recruiter_remove</b></a>(string, string)<dd>
This method attempts to add a recruiter to the club.
<dt><img src="images/magenta-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#do_transfer"><b>do_transfer</b></a>(string, string, string, string, string)<dd>
This method is used when someone wishes to withdraw some money from the
club account.
<dt><img src="images/magenta-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#do_vote"><b>do_vote</b></a>(string, string, string)<dd>
This method attempts to vote for someone in a club.
<dt><img src="images/magenta-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#do_withdrawl"><b>do_withdrawl</b></a>(string, string, string, string)<dd>
This method is used when someone wishes to withdraw some money from the
club account.
<dt><img src="images/magenta-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#finish_description"><b>finish_description</b></a>(string, string)<dd>
This is the method that is called when the club description has been
finished edited.
<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#is_valid_club_name"><b>is_valid_club_name</b></a>(string)<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#is_valid_family_name"><b>is_valid_family_name</b></a>(string)<dd>
This method is called to check the validity of a family name.
<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#query_club_control_type"><b>query_club_control_type</b></a>()<dd>
This method queries the type of the room.
<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#query_club_region"><b>query_club_region</b></a>()<dd>
This method returns the region for the club control room.
<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#query_club_warning_message"><b>query_club_warning_message</b></a>()<dd>
This method creates the warning message for the club, saying how much
it costs per year and how everything works.
<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#query_percentage_cut"><b>query_percentage_cut</b></a>()<dd>
This method returns the percentage cut the room takes for deposits
to the club account.
<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#set_club_control_type"><b>set_club_control_type</b></a>(int)<dd>
This method sets the type of the room.
<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#set_club_region"><b>set_club_region</b></a>(string)<dd>
This method sets the region for the club control room.
<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#set_percentage_cut"><b>set_percentage_cut</b></a>(int)<dd>
This method sets the percentage cut the room takes for deposits to the
club account.
</dl><hr><h2>Public Functions</h2>
These are functions that everyone can access.<p><dl>
.<dt><a name="is_valid_club_name">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>is_valid_club_name</b></a><pre>
int is_valid_club_name(string name)
</pre>
<dt><a name="is_valid_family_name">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>is_valid_family_name</b></a><pre>
int is_valid_family_name(string name)
</pre><dd>
This method is called to check the validity of a family name.<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>name - the name of the family.
<dt><b>Returns:</b>
<dd>1 if valid, 0 if invalid.

</dl>

<dt><a name="query_club_control_type">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>query_club_control_type</b></a><pre>
int query_club_control_type()
</pre><dd>
This method queries the type of the room.  This controls if the room is to 
be used for clubs, families or both.<p>
<dd><dl>
<dt><b>Returns:</b>
<dd>the control type of the room
<dt><b>See also:</b>
<dd><a href="#set_club_control_type">set_club_control_type()
</a></dl>

<dt><a name="query_club_region">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>query_club_region</b></a><pre>
string query_club_region()
</pre><dd>
This method returns the region for the club control room.<p>
<dd><dl>
<dt><b>Returns:</b>
<dd>the region the clubs are created in

</dl>

<dt><a name="query_club_warning_message">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>query_club_warning_message</b></a><pre>
string query_club_warning_message()
</pre><dd>
This method creates the warning message for the club, saying how much
it costs per year and how everything works.  This should probably
be used in a sign or something in the main room.<p>
<dd><dl>
<dt><b>Returns:</b>
<dd>the warning message

</dl>

<dt><a name="query_percentage_cut">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>query_percentage_cut</b></a><pre>
int query_percentage_cut()
</pre><dd>
This method returns the percentage cut the room takes for deposits
to the club account.<p>
<dd><dl>
<dt><b>Returns:</b>
<dd>the current percentage cut
<dt><b>See also:</b>
<dd><a href="#set_percentage_cut">set_percentage_cut()</a> and <a href="#do_deposit">do_deposit()
</a></dl>

<dt><a name="set_club_control_type">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>set_club_control_type</b></a><pre>
void set_club_control_type(int room_type)
</pre><dd>
This method sets the type of the room.  This controls if the room is to 
be used for clubs, families or both.<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>type - the type of the club
<dt><b>See also:</b>
<dd><a href="#query_club_control_type">query_club_control_type()</a><dt><b>Example:</b>
<dd><pre>// Make the room only handle clubs.
set_club_control_type(CLUB_ROOM_CLUB_ONLY);
</pre></dl>

<dt><a name="set_club_region">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>set_club_region</b></a><pre>
void set_club_region(string region)
</pre><dd>
This method sets the region for the club control room.<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>region - the region for the clubs created here

</dl>

<dt><a name="set_percentage_cut">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>set_percentage_cut</b></a><pre>
void set_percentage_cut(int value)
</pre><dd>
This method sets the percentage cut the room takes for deposits to the
club account.<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>cut - the nice new percentage cut
<dt><b>See also:</b>
<dd><a href="#query_percentage_cut">query_percentage_cut()</a> and <a href="#do_deposit">do_deposit()
</a></dl>

</dl>
<hr><h2>Protected Functions</h2>
These are functions that only objects inheriting the class can access.<p>
<dt><a name="confirm_create">
<img src="images/magenta-ball.gif" width=12 height=12 alt=" * "><b>confirm_create</b></a><pre>
void confirm_create(string str,
string name)
</pre><dd>
This method will confirm the creation of a club.<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>str - the yes or no string
<dd>name - the name of the club to create

</dl>

<dt><a name="confirm_create_family">
<img src="images/magenta-ball.gif" width=12 height=12 alt=" * "><b>confirm_create_family</b></a><pre>
void confirm_create_family(string str,
string name)
</pre><dd>
This method will confirm the creation of a family.<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>str - the yes or no string
<dd>name - the name of the family to create

</dl>

<dt><a name="disband_confirm">
<img src="images/magenta-ball.gif" width=12 height=12 alt=" * "><b>disband_confirm</b></a><pre>
void disband_confirm(string str,
string name)
</pre><dd>
This method is called to confirm the disbanding of the club.<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>str - the response the user type
<dd>name - the name of the club to disband
<dt><b>See also:</b>
<dd><a href="#do_disband">do_disband()</a>, <a href="#do_create">do_create()</a> and <a href="#create_confirm">create_confirm()
</a></dl>

<dt><a name="do_announcement">
<img src="images/magenta-ball.gif" width=12 height=12 alt=" * "><b>do_announcement</b></a><pre>
int do_announcement(string name)
</pre><dd>
This method sets an announcement for the club.<p>
<dd><dl>
<dt><b>Returns:</b>
<dd>1 on success, 0 on failure

</dl>

<dt><a name="do_balance">
<img src="images/magenta-ball.gif" width=12 height=12 alt=" * "><b>do_balance</b></a><pre>
int do_balance(string name)
</pre><dd>
This method prints the balance of this club.<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>name - the name of the club to get the balance of
<dt><b>Returns:</b>
<dd>1 on success, 0 on failure
<dt><b>See also:</b>
<dd><a href="#do_deposit">do_deposit()
</a></dl>

<dt><a name="do_change">
<img src="images/magenta-ball.gif" width=12 height=12 alt=" * "><b>do_change</b></a><pre>
int do_change(string name,
string type)
</pre><dd>
This allows the club to change into a new type.<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>name - the name of the club to change
<dd>type - the type to change the club into
<dt><b>See also:</b>
<dd><a href="#do_create">do_create()</a> and <a href="#do_disband">do_disband()
</a></dl>

<dt><a name="do_change_option">
<img src="images/magenta-ball.gif" width=12 height=12 alt=" * "><b>do_change_option</b></a><pre>
int do_change_option(string name,
string option)
</pre><dd>
This allows the club to change its options.<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>name - the name of the club to change
<dd>option - the option to change on the club
<dt><b>See also:</b>
<dd><a href="#do_create">do_create()</a>, <a href="#do_disband">do_disband()</a> and <a href="#do_change">do_change()
</a></dl>

<dt><a name="do_club_list_member">
<img src="images/magenta-ball.gif" width=12 height=12 alt=" * "><b>do_club_list_member</b></a><pre>
int do_club_list_member(string name)
</pre><dd>
This method does a listing of all the clubs that a certain person is
in.<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>name - the person whose name to check
<dt><b>Returns:</b>
<dd>1 on success, 0 on failure
<dt><b>See also:</b>
<dd>/std/basic/club_listing.c
</dl>

<dt><a name="do_create">
<img src="images/magenta-ball.gif" width=12 height=12 alt=" * "><b>do_create</b></a><pre>
int do_create(string name)
</pre><dd>
This method is called to try and create a club of the specified name.
All clubs when they first start are personal clubs.  Once they have
a certain number of members, they can convert to being an elected
type of club if they wish.<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>name - the name of the club to create
<dt><b>Returns:</b>
<dd>1 on success, 0 on failure

</dl>

<dt><a name="do_create_family">
<img src="images/magenta-ball.gif" width=12 height=12 alt=" * "><b>do_create_family</b></a><pre>
int do_create_family(string name)
</pre><dd>
This method is called to try and create a family of the specified name.<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>name - the name of the family to create
<dt><b>Returns:</b>
<dd>1 on success, 0 on failure

</dl>

<dt><a name="do_deposit">
<img src="images/magenta-ball.gif" width=12 height=12 alt=" * "><b>do_deposit</b></a><pre>
int do_deposit(string mon,
string name,
string account,
string reason)
</pre><dd>
This method allows to you deposit money into the club.<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>obs - the money objects to deposit
<dd>name - the name of the club to deposit them to
<dd>reason - the reason of the deposit
<dt><b>Returns:</b>
<dd>1 on success, 0 on failure
<dt><b>See also:</b>
<dd><a href="#do_balance">do_balance()</a>, <a href="#query_percentage_cut">query_percentage_cut()</a> and <a href="#set_percentage_cut">set_percentage_cut()
</a></dl>

<dt><a name="do_describe">
<img src="images/magenta-ball.gif" width=12 height=12 alt=" * "><b>do_describe</b></a><pre>
int do_describe(string name)
</pre><dd>
This method sets the club description.<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>name - the name of the club to describe
<dt><b>See also:</b>
<dd><a href="#finish_description">finish_description()
</a></dl>

<dt><a name="do_disband">
<img src="images/magenta-ball.gif" width=12 height=12 alt=" * "><b>do_disband</b></a><pre>
int do_disband(string name)
</pre><dd>
This method will forcibly disband the club.  This can only be done
for founder type clubs.<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>name - the name of the club to disband
<dt><b>See also:</b>
<dd><a href="#do_change">do_change()</a>, <a href="#do_create">do_create()</a> and <a href="#disband_confirm">disband_confirm()
</a></dl>

<dt><a name="do_financials">
<img src="images/magenta-ball.gif" width=12 height=12 alt=" * "><b>do_financials</b></a><pre>
int do_financials(string name,
string account)
</pre><dd>
This method prints out financial reports for the club.<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>club_name - the name of the club to get financials on
<dt><b>Returns:</b>
<dd>1 on success, 0 on failure
<dt><b>See also:</b>
<dd><a href="#do_deposit">do_deposit()</a> and <a href="#do_balance">do_balance()
</a></dl>

<dt><a name="do_force_election">
<img src="images/magenta-ball.gif" width=12 height=12 alt=" * "><b>do_force_election</b></a><pre>
int do_force_election(string name)
</pre>
<dt><a name="do_insignia">
<img src="images/magenta-ball.gif" width=12 height=12 alt=" * "><b>do_insignia</b></a><pre>
int do_insignia(string name,
int num)
</pre><dd>
This method will create a bunch of insignia for the club.<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>number - the number of insignia to create
<dd>name - the name of the club to create insignia for

</dl>

<dt><a name="do_nominate">
<img src="images/magenta-ball.gif" width=12 height=12 alt=" * "><b>do_nominate</b></a><pre>
int do_nominate(string person,
string position,
string club_name)
</pre><dd>
This method nominates a person into a position in a club.<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>person - the person to nominate
<dd>position - the position to nominate them too
<dd>club_name - the name of the club
<dt><b>Returns:</b>
<dd>1 on success, 0 on failure
<dt><b>See also:</b>
<dd><a href="obj.handlers.club_handler.c.html">/obj/handlers/club_handler.c</a> and <a href="#do_vote">do_vote()
</a></dl>

<dt><a name="do_recruiter_add">
<img src="images/magenta-ball.gif" width=12 height=12 alt=" * "><b>do_recruiter_add</b></a><pre>
int do_recruiter_add(string name,
string recruit)
</pre><dd>
This method attempts to add a recruiter to the club.<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>name - the name of the club
<dd>recruit - the person to add as a recruiter

</dl>

<dt><a name="do_recruiter_remove">
<img src="images/magenta-ball.gif" width=12 height=12 alt=" * "><b>do_recruiter_remove</b></a><pre>
int do_recruiter_remove(string name,
string recruit)
</pre><dd>
This method attempts to add a recruiter to the club.<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>name - the name of the club
<dd>recruit - the person to add as a recruiter

</dl>

<dt><a name="do_transfer">
<img src="images/magenta-ball.gif" width=12 height=12 alt=" * "><b>do_transfer</b></a><pre>
int do_transfer(string money,
string name,
string from_account,
string to_account,
string reason)
</pre><dd>
This method is used when someone wishes to withdraw some money from the
club account.<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>money - the amount of money to withdraw
<dd>club - the club to withdraw the money from
<dd>from_account - the account to withdraw money from
<dd>to_account - the account to deposit the money to
<dd>reason - the reason to withdraw money from the account
<dt><b>Returns:</b>
<dd>1 if suecceded, 0 if failed.

</dl>

<dt><a name="do_vote">
<img src="images/magenta-ball.gif" width=12 height=12 alt=" * "><b>do_vote</b></a><pre>
int do_vote(string person,
string position,
string club_name)
</pre><dd>
This method attempts to vote for someone in a club.<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>person - the person to vote for
<dd>position - the position to vote for them in
<dd>club_name - the name of the club to vote for them in
<dt><b>Returns:</b>
<dd>1 on success, 0 on failure
<dt><b>See also:</b>
<dd><a href="#do_nominate">do_nominate()</a> and /obj/handlers/club_handler.c
</dl>

<dt><a name="do_withdrawl">
<img src="images/magenta-ball.gif" width=12 height=12 alt=" * "><b>do_withdrawl</b></a><pre>
int do_withdrawl(string money,
string name,
string account,
string reason)
</pre><dd>
This method is used when someone wishes to withdraw some money from the
club account.<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>money - the amount of money to withdraw
<dd>club - the club to withdraw the money from
<dd>account - the account to withdraw money from
<dd>reason - the reason to withdraw money from the account
<dt><b>Returns:</b>
<dd>1 if suecceded, 0 if failed.

</dl>

<dt><a name="finish_description">
<img src="images/magenta-ball.gif" width=12 height=12 alt=" * "><b>finish_description</b></a><pre>
void finish_description(string describe,
string name)
</pre><dd>
This is the method that is called when the club description has been
finished edited.  It will set the description on the club handler.<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>describe - the new description
<dd>name - the name of the club to describe
<dt><b>See also:</b>
<dd><a href="#do_describe">do_describe()
</a></dl>


<hr>
<center><font size="-1"><a href="http://discworld.imaginary.com/login.html">Discworld MUD</a>'s distribution world wide web pages.<br>brought to you by<br><strong>Cut Me Own Throat Dibbler's <a href="http://discworld.imaginary.com/sausages.html">Sensational Sausages</a>;&nbsp;buy one while they are hot.</strong><br>File last modified: Tue, 27 Mar 2018 05:02:39 GMT<br>
<hr>Lost?  Try Discworld's <a href="http://discworld.imaginary.com/">home page</a>.</center></body></html>