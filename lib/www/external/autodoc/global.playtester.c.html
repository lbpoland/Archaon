<html><head><title>File playtester.c
</title></head><body bgcolor="#ffffff" TEXT="#000030" LINK="#4a529c" VLINK="#b57339">[ <a href="index.html">Package Index</a></code> | <a href="index_std.html">Mudlib Index</a></code> | <a href="index_eff.html">Effect Index</a></code> ]<br><h2>File /global/playtester.c</h2>
This is the playtester player object.  It gives the playtesters the
bonus extra commands needed by happy playtesters.<p><b>See also:</b><br><a href="global.player.c.html">/global/player.c</a><p>Written by Pinkfish<p>Started Tue Jun 25 11:27:05 PDT 2002
<hr><h2>Inherits</h2>
This class inherits the following classes <a href="global.player.c.html">/global/player.c</a><hr><h2>Includes</h2>
This class includes the following files <a href="include.command.h.html">/include/command.h</a>, <a href="include.player_handler.h.html">/include/player_handler.h</a>, <a href="include.player.h.html">/include/player.h</a>, <a href="include.login_handler.h.html">/include/login_handler.h</a> and <a href="include.playtesters.h.html">/include/playtesters.h</a><hr><h2>Class Index</h2>
<dl><dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#class_playtester_data"><b>playtester_data</b></a>
</dl><hr><h2>Method index</h2>
<dl><dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#advancement_restriction"><b>advancement_restriction</b></a>()<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#disable_damage_log"><b>disable_damage_log</b></a>()<dd>
This method disables logging of PT fake damage.
<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#disable_death_log"><b>disable_death_log</b></a>()<dd>
This method disables logging of PT fake deaths.
<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#disable_personal_pt_protection"><b>disable_personal_pt_protection</b></a>()<dd>
This method resets the protect flag so that adjust_hp and
do_death are not masked, i.
<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#disable_pt_protection"><b>disable_pt_protection</b></a>()<dd>
This method sets the PT as no longer being under room protection.
<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#enable_damage_log"><b>enable_damage_log</b></a>()<dd>
This method enables logging of PT fake damage.
<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#enable_death_log"><b>enable_death_log</b></a>()<dd>
This method enables logging of PT fake deaths.
<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#enable_personal_pt_protection"><b>enable_personal_pt_protection</b></a>()<dd>
This method sets the protect flag so that adjust_hp and
do_death are masked.
<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#enable_pt_protection"><b>enable_pt_protection</b></a>()<dd>
This method sets the PT as being under room protection.
<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#pt_adjust_hp"><b>pt_adjust_hp</b></a>(int, object)<dd>
This method adjusts the fake hitpoints.
<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#pt_do_death"><b>pt_do_death</b></a>()<dd>
This method replaces the normal do_death() when testing.
<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#pt_query_hp"><b>pt_query_hp</b></a>()<dd>
This method returns the number of fake hitpoints.
<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#pt_set_hp"><b>pt_set_hp</b></a>(int)<dd>
This method sets the fake hitpoints.
<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#query_contractable"><b>query_contractable</b></a>()<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#query_in_pt_arena"><b>query_in_pt_arena</b></a>()<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#query_log_damage"><b>query_log_damage</b></a>()<dd>
This method returns the status of the LOG_DAMAGE flag, i.
<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#query_log_death"><b>query_log_death</b></a>()<dd>
This method returns the status of the LOG_DEATH flag, i.
<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#query_playtester"><b>query_playtester</b></a>()<dd>
This method tells us if the object is a playtester or not.
<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#query_pt_area"><b>query_pt_area</b></a>(object)<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#query_pt_log_file"><b>query_pt_log_file</b></a>()<dd>
This method returns the log file for logging of PT fake deaths and damage.
<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#query_pt_protection"><b>query_pt_protection</b></a>()<dd>
This method returns the status of the protect flag.
<dt><img src="images/cyan-ball-small.gif" height=6 width=6 alt=" o ">
<a href="#set_pt_log_file"><b>set_pt_log_file</b></a>(string)<dd>
This method sets the log file for logging of PT fake deaths and damage.
</dl><hr><h2>Public Functions</h2>
These are functions that everyone can access.<p><dl>
.<dt><a name="advancement_restriction">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>advancement_restriction</b></a><pre>
int advancement_restriction()
</pre>
<dt><a name="disable_damage_log">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>disable_damage_log</b></a><pre>
void disable_damage_log()
</pre><dd>
This method disables logging of PT fake damage.
<p>

<dt><a name="disable_death_log">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>disable_death_log</b></a><pre>
void disable_death_log()
</pre><dd>
This method disables logging of PT fake deaths.
<p>

<dt><a name="disable_personal_pt_protection">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>disable_personal_pt_protection</b></a><pre>
int disable_personal_pt_protection()
</pre><dd>
This method resets the protect flag so that adjust_hp and
do_death are not masked, i.e. the player can be hurt in the
normal(*) way.

(*) Having "normal" ways to hurt people is quite sick...  But it's fnu!
<p>

<dt><a name="disable_pt_protection">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>disable_pt_protection</b></a><pre>
int disable_pt_protection()
</pre><dd>
This method sets the PT as no longer being under room protection.  Room protection does not 
expire and lasts until it is switched off.  It also over-rides personal protection.  <p>
<dd><dl>
<dt><b>Returns:</b>
<dd>1 on success, 0 on failure.

</dl>

<dt><a name="enable_damage_log">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>enable_damage_log</b></a><pre>
void enable_damage_log()
</pre><dd>
This method enables logging of PT fake damage.
<p>

<dt><a name="enable_death_log">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>enable_death_log</b></a><pre>
void enable_death_log()
</pre><dd>
This method enables logging of PT fake deaths.
<p>

<dt><a name="enable_personal_pt_protection">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>enable_personal_pt_protection</b></a><pre>
int enable_personal_pt_protection()
</pre><dd>
This method sets the protect flag so that adjust_hp and
do_death are masked.
<p>

<dt><a name="enable_pt_protection">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>enable_pt_protection</b></a><pre>
int enable_pt_protection()
</pre><dd>
This method sets the PT as being under room protection.  Room protection does not 
expire and lasts until it is switched off.  It also over-rides personal protection.  <p>
<dd><dl>
<dt><b>Returns:</b>
<dd>1 on success, 0 on failure.

</dl>

<dt><a name="pt_adjust_hp">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>pt_adjust_hp</b></a><pre>
varargs int pt_adjust_hp(int hp,
object attacker)
</pre><dd>
This method adjusts the fake hitpoints.<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>hp - The value to add to fake hitpoints
<dt><b>Returns:</b>
<dd>hp after adjustment

</dl>

<dt><a name="pt_do_death">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>pt_do_death</b></a><pre>
object pt_do_death()
</pre><dd>
This method replaces the normal do_death() when testing.  It gives
players a message about how it would have hurt if it had been for real.<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>thing - The object that killed us.
<dt><b>Returns:</b>
<dd>A corpse

</dl>

<dt><a name="pt_query_hp">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>pt_query_hp</b></a><pre>
int pt_query_hp()
</pre><dd>
This method returns the number of fake hitpoints.<p>
<dd><dl>
<dt><b>Returns:</b>
<dd>The number of fake hitpoints

</dl>

<dt><a name="pt_set_hp">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>pt_set_hp</b></a><pre>
void pt_set_hp(int hp)
</pre><dd>
This method sets the fake hitpoints.<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>hp - The new value of fake hitpoints

</dl>

<dt><a name="query_contractable">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>query_contractable</b></a><pre>
int query_contractable()
</pre>
<dt><a name="query_in_pt_arena">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>query_in_pt_arena</b></a><pre>
int query_in_pt_arena()
</pre>
<dt><a name="query_log_damage">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>query_log_damage</b></a><pre>
int query_log_damage()
</pre><dd>
This method returns the status of the LOG_DAMAGE flag, i.e. whether
PT fake damage is logged or not.<p>
<dd><dl>
<dt><b>Returns:</b>
<dd>Status of LOG_DAMAGE flag

</dl>

<dt><a name="query_log_death">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>query_log_death</b></a><pre>
int query_log_death()
</pre><dd>
This method returns the status of the LOG_DEATH flag, i.e. whether
PT fake deaths are logged or not.<p>
<dd><dl>
<dt><b>Returns:</b>
<dd>Status of LOG_DEATH flag

</dl>

<dt><a name="query_playtester">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>query_playtester</b></a><pre>
int query_playtester()
</pre><dd>
This method tells us if the object is a playtester or not.<p>
<dd><dl>
<dt><b>Returns:</b>
<dd>1 if the object is a creator, 0 if not.

</dl>

<dt><a name="query_pt_area">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>query_pt_area</b></a><pre>
int query_pt_area(object ob)
</pre>
<dt><a name="query_pt_log_file">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>query_pt_log_file</b></a><pre>
string query_pt_log_file()
</pre><dd>
This method returns the log file for logging of PT fake deaths and damage.
The default is /d/playtesters/log/pain.<p>
<dd><dl>
<dt><b>Returns:</b>
<dd>The filename of the log file.

</dl>

<dt><a name="query_pt_protection">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>query_pt_protection</b></a><pre>
int query_pt_protection()
</pre><dd>
This method returns the status of the protect flag.  2 means that they have 
their room protection enabled, 1 means that they have their personal protection
enabled, 0 means that they are not.<p>
<dd><dl>
<dt><b>Returns:</b>
<dd>The value of the protect flag

</dl>

<dt><a name="set_pt_log_file">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>set_pt_log_file</b></a><pre>
void set_pt_log_file(string str)
</pre><dd>
This method sets the log file for logging of PT fake deaths and damage.
The default is /d/playtesters/log/pain.<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>str - The filename of the log file.

</dl>

</dl>
<hr><h2>Classes</h2>
These are nice data types for dealing with...  Data!<p>
<dl>
<dt><a name="class_playtester_data">
<img src="images/cyan-ball.gif" width=12 height=12 alt=" * "><b>playtester_data</b></a><pre>
class playtester_data {
int protect;
int hp;
string log_file;
int log_death;
int log_damage;
int turn_off;
int protection_counter;
int room_protection;
}

</pre>
</dl>
<hr>
<center><font size="-1"><a href="http://discworld.imaginary.com/login.html">Discworld MUD</a>'s distribution world wide web pages.<br>brought to you by<br><strong>Cut Me Own Throat Dibbler's <a href="http://discworld.imaginary.com/sausages.html">Sensational Sausages</a>;&nbsp;buy one while they are hot.</strong><br>File last modified: Thu, 29 Mar 2018 02:36:58 GMT<br>
<hr>Lost?  Try Discworld's <a href="http://discworld.imaginary.com/">home page</a>.</center></body></html>